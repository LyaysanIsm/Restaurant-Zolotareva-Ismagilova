@model ReportModel

@{
    ViewData["Title"] = "Отчет по продуктам";
}

@section Links {
    <div class="navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse">
        <ul class="navbar-nav flex-grow-1">
            <li class="nav-item">
                <a class="nav-link text-light" asp-area="" asp-controller="Request" asp-action="Request">Список заявок</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-light" asp-area="" asp-controller="Fridge" asp-action="ListFridges">Холодильники</a>
            </li>
        </ul>
    </div>
}

<div class="text-left">
    <h4>Отчет по продуктам</h4>
</div>
<hr />

@using (Html.BeginForm())
{
    <p>
        Выберите даты для отображения отчета по продуктам
    </p>
    <p>
        От: @Html.EditorFor(model => model.From)
    </p>
    <p>
        До: @Html.EditorFor(model => model.To)
    </p>
    <p>
        @Html.EditorFor(model => model.SendMail) Отправить отчёт по продуктам на почту
    </p>
    <p>
        <button type="submit" class="btn btn-primary btn-sm">Получить</button>
    </p>
}
<hr />
@foreach (var request in ViewBag.requests)
{
    <p>Номер заявки: @request.Id</p>
    <p>Дата создания: @request.CreationDate</p>
    <p>Дата выполнения: @request.CompletionDate</p>
    <p>ФИО: @request.SupplierFIO</p>
    <p>Статус: @request.Status</p>
    <p>Сумма: @request.Sum</p>
    <p>Состав:</p>
    <table class="table">
        <tr>
            <td>Продукт</td>
            <td>Количество</td>
        </tr>
        @foreach (var food in request.Foods)
        {
            <tr>
                <td>@food.Value.Item1</td>
                <td>@food.Value.Item2</td>
            </tr>
        }
    </table>
}